{% if site.mathjax.enable %}
  {% if page.layout == 'index' or page.mathjax or site.mathjax.per_page == nil or site.mathjax.per_page == false %}
    <script type="text/javascript" id="MathJax-script" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.0.0/es5/latest?tex-mml-chtml.js">
    </script>
    
    <script type="text/x-mathjax-config">
        window.MathJax = {
          tex: {
            inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
            processEscapes: true
          },
          options: {
            skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
          }
        };
    </script>

    <!-- <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script> -->
    <script type="text/javascript" id="MathJax-script" async 
      src="{{ site.mathjax.cdn }}">
    </script>
  {% endif %}
{% endif %}
